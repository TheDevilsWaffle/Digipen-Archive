///////////////////////////////////////////////////////////////////////////////////////////////////
//AUTHOR — Travis Moore
//SCRIPT — RoundSettings.cs
//COPYRIGHT — © 2016 DigiPen Institute of Technology
///////////////////////////////////////////////////////////////////////////////////////////////////

using UnityEngine;
using System.Collections;
//using System.Collections.Generic;
//using UnityEngine.UI;
using UnityEngine.SceneManagement;

#region ENUMS

#endregion

#region EVENTS
public class EVENT_Round_Restart : GameEvent
{
    public EVENT_Round_Restart()
    {
    }
}
#endregion

public class RoundSettings : MonoBehaviour
{
    #region FIELDS
    string scene;
    #endregion

    #region INITIALIZATION
    ///////////////////////////////////////////////////////////////////////////////////////////////
    /// <summary>
    /// Awake()
    /// </summary>
    ///////////////////////////////////////////////////////////////////////////////////////////////
    void Awake()
    {
        scene = SceneManager.GetActiveScene().name;
    }

	///////////////////////////////////////////////////////////////////////////////////////////////
    /// <summary>
    /// Start()
    /// </summary>
    ///////////////////////////////////////////////////////////////////////////////////////////////
    void Start()
    {
	
	}
    #endregion

    #region UPDATE
    ///////////////////////////////////////////////////////////////////////////////////////////////
    /// <summary>
    /// Update()
    /// </summary>
    ///////////////////////////////////////////////////////////////////////////////////////////////
    void Update()
    {
        if (Input.GetKeyDown(KeyCode.KeypadEnter))
            RestartRound();
	}
    #endregion

    #region METHODS

    public void RestartRound()
    {
        Events.instance.Raise(new EVENT_Round_Restart());
        LeanTween.delayedCall(0.25f, ReloadScene);
    }

    void ReloadScene()
    {
        SceneManager.LoadScene(scene, LoadSceneMode.Single);
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////
    
    ///////////////////////////////////////////////////////////////////////////////////////////////
    #endregion
}
