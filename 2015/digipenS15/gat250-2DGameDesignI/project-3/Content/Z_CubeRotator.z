/*//////////////////////////////////////////////////////////////////////////////////////////////////////////
//SCRIPT    - Z_CubeRotator.z
//AUTHOR    - Travis Moore
//COURSE    - GAM250
//COPYRIGHT - © 2015 DigiPen, All Rights Reserved.
//////////////////////////////////////////////////////////////////////////////////////////////////////////*/
class Z_CubeRotator:ZilchComponent
{
    //SPEEDS
    [Property]
    var RotationSpeed:Real = Real(50.0);
    
    /*//////////////////////////////////////////////////////////////////////////////////////////////////////
    //FUNCTION-Initialize()
    //EXPLANATION-initialize variables and event listeners
    //////////////////////////////////////////////////////////////////////////////////////////////////////*/
    function Initialize(init:CogInitializer):Void
    {
        //event listener update every logical frame
        Zero.Connect(this.Space, Events.LogicUpdate, this.OnLogicUpdate);
    }
    
    /*//////////////////////////////////////////////////////////////////////////////////////////////////////
    //FUNCTION-GetRandomAxisValues()
    //EXPLANATION-return a random value between min and max properties
    //////////////////////////////////////////////////////////////////////////////////////////////////////*/
    
    /*//////////////////////////////////////////////////////////////////////////////////////////////////////
    //FUNCTION-OnLogicUpdate()
    //EXPLANATION-perform code in sequence every logical frame update
    //////////////////////////////////////////////////////////////////////////////////////////////////////*/
    function OnLogicUpdate(event:UpdateEvent):Void
    {
        if(this.Owner != null)
        {
            //set rotation
            var rotation = Math.ToRadians(this.RotationSpeed) * event.Dt;
            //set quaternion
            var localRotation = Math.ToQuaternion( Real3(0,0,1), rotation);
            //apply rotation
            this.Owner.Transform.RotateLocal(localRotation);
        }
    }
}
